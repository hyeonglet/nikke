<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>승리의 여신 : 니케 픽업 모집 시뮬레이터</title>
    <link rel="stylesheet" href="css/style.css" type="text/css">
    <script src="js/jquery-1.12.3.js"></script>
    <script src="js/script.js"></script>

    <!-- 뽑기스크립트인데 너무 지저분;;-->
    <script>
        window.onload = function() {
            var myButtonTwo = document.getElementById("myButtonTwo");
            var myButton = document.getElementById("myButton");
            var pilgrimBtn = document.getElementById("pilgrimBtn");

            // 단차스크립트
            myButton.addEventListener("click", function() {
                var resultTwo = selectItemWithProbability();
                var drawElementTwo = document.querySelector(".draw");
                drawElementTwo.src = "images/nikke/" + resultTwo + ".jpg";
            });

            function selectItemWithProbability() {
                var itemsTwo = ["iDoll썬", "iDoll오션", "iDoll플라워", "솔져O.W.", "솔져F.A.", "솔져E.G.", "프로덕트23", "프로덕트12", "프로덕트08", "미카", "벨로타", "아니스", "델타", "네온", "라피", "에테르", "미하라", "N102","D", "사쿠라", "비스킷", "소다", "코코아", "바이퍼", "자칼", "라플라스", "헬름", "베스티", "페퍼", "밀크", "율하", "루피", "도라", "노벨", "리타", "메이든", "폴크방", "노이즈", "볼륨", "아리아", "에피넬", "얀", "루드밀라", "길로틴", "애드미", "메어리", "크로우", "드레이크", "은화", "센티", "디젤", "솔린", "브리드", "미란다", "폴리", "시그널", "율리아", "프림", "프리바티", "유니", "엠마", "앨리스", "엑시아", "슈가", "맥스웰", "모더니아", "라푼젤", "이사벨", "홍련", "노아", "스노우화이트", "하란", "도로시"];
                var probabilitiesTwo = [0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000714, 0.000714, 0.000714, 0.000714, 0.000714, 0.000714, 0.000714, 0.01];

                for (var i = 1; i < probabilitiesTwo.length; i++) {
                    probabilitiesTwo[i] += probabilitiesTwo[i - 1];
                }
                var randomValueTwo = Math.random();

                for (var i = 0; i < probabilitiesTwo.length; i++) {
                    if (randomValueTwo < probabilitiesTwo[i]) {
                    return itemsTwo[i];
                    }
                }
                    return itemsTwo[itemsTwo.length - 1];
            }


                // 연차스크립트
                // 가능한 결과들을 배열로 정의합니다.
                const results = ["iDoll썬", "iDoll오션", "iDoll플라워", "솔져O.W.", "솔져F.A.", "솔져E.G.", "프로덕트23", "프로덕트12", "프로덕트08", "미카", "벨로타", "아니스", "델타", "네온", "라피", "에테르", "미하라", "N102","D", "사쿠라", "비스킷", "소다", "코코아", "바이퍼", "자칼", "라플라스", "헬름", "베스티", "페퍼", "밀크", "율하", "루피", "도라", "노벨", "리타", "메이든", "폴크방", "노이즈", "볼륨", "아리아", "에피넬", "얀", "루드밀라", "길로틴", "애드미", "메어리", "크로우", "드레이크", "은화", "센티", "디젤", "솔린", "브리드", "미란다", "폴리", "시그널", "율리아", "프림", "프리바티", "유니", "엠마", "앨리스", "엑시아", "슈가", "맥스웰", "모더니아", "라푼젤", "이사벨", "홍련", "노아", "스노우화이트", "하란", "도로시"];

                // 각 결과에 대한 확률을 배열로 정의합니다.
                const probabilities = [0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.058889, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.047778, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000532, 0.000714, 0.000714, 0.000714, 0.000714, 0.000714, 0.000714, 0.000714, 0.01];

                // 결과를 출력하는 함수를 정의합니다.
                function getResult() {
                // 각 결과에 대한 누적 확률을 저장할 배열을 생성합니다.
                const cumulativeProbabilities = [];
                let cumulativeProbability = 0;
                for (let i = 0; i < probabilities.length; i++) {
                    cumulativeProbability += probabilities[i];
                    cumulativeProbabilities.push(cumulativeProbability);
                }
                
                // 결과를 저장할 배열을 생성합니다.
                const resultsArray = [];
                
                // 10개의 결과를 무작위로 선택하여 배열에 저장합니다.
                for (let i = 0; i < 10; i++) {
                    // 0에서 1 사이의 랜덤한 값을 생성합니다.
                    const randomValue = Math.random();

                    // 랜덤한 값을 이용하여 결과 값을 선택합니다.
                    for (let i = 0; i < cumulativeProbabilities.length; i++) {
                    if (randomValue <= cumulativeProbabilities[i]) {
                        resultsArray.push(results[i]);
                        break;
                    }
                    }
                }
                
                return resultsArray;
                }

                // 결과를 출력하는 함수를 호출하여 이미지에 결과 값을 할당합니다.
                document.getElementById("myButtonTwo").addEventListener("click", function() {
                const resultsArray = getResult();
                const images = document.querySelectorAll(".draw1");
                
                for (let i = 0; i < images.length; i++) {
                    images[i].src = "images/nikke/" + resultsArray[i] + ".jpg";
                }
                });


                            // 단차스크립트
            pilgrimBtn.addEventListener("click", function() {
                var resultTwo = selectItemWithProbability();
                var drawElementTwo = document.querySelector(".draw");
                drawElementTwo.src = "images/nikke/" + resultTwo + ".jpg";
            });

            function selectItemWithProbability() {
                var itemsTwo = ["iDoll썬", "iDoll오션", "iDoll플라워", "솔져O.W.", "솔져F.A.", "솔져E.G.", "프로덕트23", "프로덕트12", "프로덕트08", "미카", "벨로타", "아니스", "델타", "네온", "라피", "에테르", "미하라", "N102", "모더니아", "라푼젤", "이사벨", "홍련", "노아", "스노우화이트", "하란"];
                var probabilitiesTwo = [0.022216, 0.022216, 0.022216, 0.022216, 0.022216, 0.022216, 0.022216, 0.022216, 0.022216, 0.033323, 0.033323, 0.033323, 0.033323, 0.033323, 0.033323, 0.033323, 0.033323, 0.033323, 0.07145, 0.07145, 0.07145, 0.07145, 0.07145, 0.07145, 0.07145];

                for (var i = 1; i < probabilitiesTwo.length; i++) {
                    probabilitiesTwo[i] += probabilitiesTwo[i - 1];
                }
                var randomValueTwo = Math.random();

                for (var i = 0; i < probabilitiesTwo.length; i++) {
                    if (randomValueTwo < probabilitiesTwo[i]) {
                    return itemsTwo[i];
                    }
                }
                    return itemsTwo[itemsTwo.length - 1];
            }
                
        };
    </script>

</head>
<body>
    <div class="modal">
        <div class="modal_all">
            <img class="draw" src="images/footer_ui/니케.png" alt="">
            <button>확인</button>
        </div>
    </div>
    <div class="modal2">
        <div class="modal_all2">
            <div class="container">
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
                <div class="item"><img class="draw1" src="images/nikke/iDoll썬.jpg" alt=""></div>
            </div>
            <button>확인</button>
        </div>
    </div>
    <div class="modal3">
        <div class="modal_all3">
            <a href="#" id="pilgrimBtn">
                <img src="images/필그림몰드.jpg" alt="">
            </a>
            <button>확인</button>
        </div>
    </div>
    <div class="wrap">
        <section class="top">
            <div class="container">
                <div class="bg_video">
                    <video src="videos/도로시.mp4" autoplay muted loop></video>
                </div>
            </div>
        </section>
        <section class="bot">
            <div class="container">
                <div class="btn">
                    <a id="myButton" class="one" href="#"><img src="images/btn/1명.png" alt=""></a>
                    <a id="myButtonTwo" class="ten" href="#"><img src="images/btn/10명.png" alt=""></a>
                </div>
                <div class="list">
                    <div class="dot"></div>
                </div>
                <div class="nav">
                    <ul class="gnb">
                        <li><a href="#"><img src="images/footer_ui/니케.png" alt=""><span>니케</span></a></li>
                        <li><a href="#"><img src="images/footer_ui/스쿼드.png" alt=""><span>스쿼드</span></a></li>
                        <li><a href="#"><img src="images/footer_ui/로비.png" alt=""><span>로비</span></a></li>
                        <li><a href="#" class="inven"><img src="images/footer_ui/인벤토리.png" alt=""><span>인벤토리</span></a></li>
                        <li><a href="#"><img src="images/footer_ui/대원모집.png" alt=""><span>대원모집</span></a></li>
                    </ul>
                </div>
            </div>
        </section>
    </div>
</body>
</html>